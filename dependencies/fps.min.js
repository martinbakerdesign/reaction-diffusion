/*!
 * fps v1.0.0
 */
!(function() {
  'use strict';
  var t = function(t) {
    this.init(t);
  };
  (t.prototype = {
    constructor: t,
    init: function(t) {
      'string' == typeof t && (t = document.querySelector(t)),
        (this._fps = 0),
        (this._frames = 0),
        (this._startTime = Date.now()),
        (this._element = this._createElement('div', '', t || document.body));
    },
    getElement: function() {
      return this._element;
    },
    getFPS: function() {
      return this._fps;
    },
    start: function() {
      this._animationFrameId || this._loop();
    },
    stop: function() {
      this._animationFrameId &&
        (window.cancelAnimationFrame(this._animationFrameId),
        (this._animationFrameId = null));
    },
    step: function() {
      this._frames++;
      var t = Date.now(),
        i = t - this._startTime;
      i >= 1e3 &&
        ((this._fps = Math.round((1e3 * this._frames) / i)),
        (this._frames = 0),
        (this._startTime = t),
        this._updateDisplay());
    },
    _loop: function() {
      this.step(),
        (this._animationFrameId = window.requestAnimationFrame(
          this._loop.bind(this)
        ));
    },
    _updateDisplay: function() {
      this._element.innerHTML = '<b>' + this._fps + '</b> fps';
    },
    _createElement: function(t, i, e) {
      var n = document.createElement(t);
      n.id = 'fps';
      if (n) return i && (n.style.cssText = i), e && e.appendChild(n), n;
    }
  }),
    (window.FPS = t);
})();
